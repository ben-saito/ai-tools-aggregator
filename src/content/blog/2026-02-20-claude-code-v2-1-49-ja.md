---
title: "Claude Code v2.1.49 リリース - バックグラウンドエージェント制御改善・起動高速化・Sonnet 4.6の1Mコンテキスト対応"
description: "Anthropicは2026年2月20日、Claude Code v2.1.49をリリースした。バックグラウンドエージェント実行中のCtrl+C/ESC無視バグの修正、起動パフォーマンスの大幅改善、シンプルモードへのファイル編集ツール追加、Yoga WASMメモリリークの修正などが含まれる。また、MaxプランにおいてSonnet 4.6が1Mコンテキストに対応した。"
publishedAt: "2026-02-20T08:30:00+09:00"
author: "AI Tools Hub"
category: "news"
lang: "ja"
tags: ["Claude Code", "Anthropic", "リリースノート", "バグ修正", "パフォーマンス"]
featured: false
---

Anthropicは2026年2月20日（UTC）、Claude Code v2.1.49をnpmレジストリに公開した。前バージョンv2.1.47から約1日でのリリースとなり、バックグラウンドエージェントの制御改善、起動パフォーマンスの向上、メモリリークの修正など約20件の変更が含まれる。

## 主な変更点

### バックグラウンドエージェント制御の修正

バックグラウンドエージェントが実行中にメインスレッドがアイドル状態になると、Ctrl+CおよびESCキーが無視される不具合が修正された。今後は3秒以内に2回押すとすべてのバックグラウンドエージェントが終了する動作となる。並列エージェントを多用するワークフローでの作業中断が確実に行えるようになる。

### 起動パフォーマンスの改善

複数の改善により、起動時間が短縮された。

- MCPツールのトークンカウントを単一APIコール（バッチ処理）にまとめることで、HTTPリクエスト数を削減
- HTTP・SSE MCPサーバーの認証失敗をキャッシュし、再接続試行を回避
- 非インタラクティブモード（`-p`フラグ）での起動時に不要なAPI呼び出しをスキップ

### Yoga WASMメモリリークの修正

長時間セッションでYoga WASM（レイアウトエンジン）のリニアメモリが際限なく増加する問題が2件修正された。tree-sitterパーサーも長時間セッションで周期的にリセットされるよう改善され、WASMメモリの肥大化が防止される。また、古いyogaレイアウト参照によるレンダリング問題も解消された。

### シンプルモードにファイル編集ツールを追加

`CLAUDE_CODE_SIMPLE`環境変数で有効化するシンプルモードに、Bashツールに加えてファイル編集ツールが追加された。従来はBashコマンド経由でしかファイル操作ができなかったが、ファイルの直接編集が可能になった。

### プラグイン管理の改善

`plugin enable`および`plugin disable`コマンドが、`--scope`オプションを指定しない場合に適切なスコープを自動検出するよう変更された。従来はデフォルトでユーザースコープが使用されていたため、プロジェクトスコープのプラグインを操作する際に混乱が生じることがあった。

### SDK向けの機能追加

- モデル情報に`supportsEffort`、`supportedEffortLevels`、`supportsAdaptiveThinking`フィールドを追加。SDKコンシューマーがモデルの対応能力をプログラム的に取得可能になった。
- 設定ファイルの変更を検知する`ConfigChange`フックイベントを追加。エンタープライズ環境でのセキュリティ監査や設定変更のブロックが実装できる。
- 安全チェックによる確認応答が発生した際にパーミッションの選択肢が表示されるよう改善（SDKコンシューマー向け）。

### その他の修正

- プロンプトサジェストキャッシュのリグレッション修正（キャッシュヒット率が低下していた問題）
- `/config`でverboseモードを切り替えてもシンキングブロックの表示が更新されなかった問題を修正
- `--resume`セッション選択画面でXMLタグがそのまま表示されていた問題を修正
- パス安全チェックおよび作業ディレクトリブロック時のパーミッションプロンプトに制限理由を表示するよう改善
- `disableAllHooks`設定が管理設定の階層を尊重するよう修正（管理ポリシーで設定されたフックを無効化できなくなった）

### Sonnet 4.6が1Mコンテキストに対応（Maxプラン）

MaxプランでSonnet 4.5（1Mコンテキスト版）が廃止され、代わりにSonnet 4.6が1Mコンテキストに対応した。ユーザーは`/model`コマンドでモデルを切り替える必要がある。

## バージョン情報

- **バージョン**: 2.1.49
- **公開日**: 2026年2月20日（UTC）
- **npm**: [@anthropic-ai/claude-code](https://www.npmjs.com/package/@anthropic-ai/claude-code)
- **インストール**: `npm install -g @anthropic-ai/claude-code@2.1.49`

## 関連リリース

v2.1.47からv2.1.49へのリリース間隔は約1日。v2.1.48は`latest`タグには到達しておらず、v2.1.49が直接最新版として公開された。
