---
title: "Claude Code 3000時間の試行錯誤から生まれた統合ワークフロー。仕様駆動・テスト駆動・複数モデル並列レビューを組み合わせた本格的な開発手法"
description: "Reddit「r/ClaudeCode」で、3000時間のClaude Code使用から構築された統合開発環境の詳細なワークフローが公開された。/arm→/design→/ar→/plan→/buildのパイプラインで、Opus・Sonnet・外部モデルを使い分ける仕様駆動型アプローチ。"
publishedAt: "2026-02-18T12:00:00+09:00"
author: "AI Tools Aggregator編集部"
category: "AI Coding"
tags: ["Claude Code", "Workflow", "Coding Agent", "Best Practices", "Multi-Model"]
lang: "ja"
---

# Claude Code 3000時間の試行錯誤から生まれた統合ワークフロー。仕様駆動・テスト駆動・複数モデル並列レビューを組み合わせた本格的な開発手法

Reddit「r/ClaudeCode」に投稿された「This is what 3k hours in CC looks like」というスレッドが70件のコメントを集め、コミュニティで大きな反響を呼んでいる。投稿者は3000時間以上のClaude Code使用経験から構築した、First Principles（第一原理）・仕様駆動・テスト駆動・アトミックタスクを組み合わせた統合開発ワークフローを詳細に公開した。

このワークフローは単純なプロンプト→コード生成ではなく、アイデアから本番リリースまでの各フェーズに品質ゲートを設け、複数のAIモデルを役割分担させる本格的なエンジニアリング手法として注目されている。

## 基本的な考え方

投稿者が提示したワークフローの核心は「**コードは負債であり、判断こそが資産**」という原則にある。一般的なAIコーディングのアプローチが「プロンプト→計画→コード」という流れであるのに対し、このワークフローは以下の段階を経る：

**アイデア → 整理されたブリーフ → 第一原理に基づく設計 → 対立的レビュー → 設計の反復 → アトミック計画 → 並列ビルド → ビルド検証 → QAパイプライン → セキュリティレビュー**

各フェーズの移行は品質ゲートとして機能し、検証が通るまで次フェーズへの進行がブロックされる。各タスクのコンテキストには、そのタスクのスコープに必要な情報のみが含まれる。

コールドスタートのトークンコストは200kトークンの0.8%（約1,600トークン）と低く抑えられている。

## 各フェーズの詳細

### /arm（要件収集）

曖昧なアイデアを入力すると、Opusモデルが会話形式のQ&Aを通じて要件、制約、非目標、スタイル、重要な概念を抽出する。残った決定事項は単一の構造化チェックポイントで強制的に決定される。出力は設計書ではなく「ブリーフ」（要件仕様書）として出力される。

### /design（設計）

ブリーフをもとにOpusが第一原理分析を実施する。すべての制約を評価・分類し、ソフト制約をハード制約として扱っているものにフラグを立てる。Context7（ライブラリの最新ドキュメント）とウェブ検索を活用して実際の動作を確認しながら、検証された事実のみから最適なアプローチを再構築する。出力は正式な設計書となる。

### /ar（対立的レビュー）

設計書に対して、3つのモデルが並列でクリティーク（批判的レビュー）を行う：

- **Opus**（Anthropic）
- **Kimi**（Moonshot AI）
- **GLM**（Zhipu AI）

後者2つはHaikuプロキシとカスタム外部エージェントランナーを通じてチームメンバーとして動作する。3モデルはそれぞれ異なるトレーニングデータとブラインドスポットを持つため、単一モデルでは見逃す可能性のある問題を検出できる。

チームリーダー（Opus）が重複する発見を排除し、実際のコードベースに対して各発見を事実確認し、コスト/ベネフィット分析を実施して構造化レポートを出力。コスト/ベネフィット分析が「対処不要」と判定するまでこのループが繰り返される。

### /plan（実行計画）

承認された設計書をもとにOpusが実行ドキュメントを生成する。このドキュメントは、後続のSonnetビルドエージェントが一切の質問なしに実行できるほど具体的に記述される：

- エージェントあたり約5タスク
- グループ間でファイル競合なし
- 正確なファイルパス
- パターンを示す完全なコード例
- セットアップとアサーションを含む名前付きテストケース
- 譲れない受け入れ基準を持つアトミックタスク

### /pmatch（ドリフト検出）

Sonnet + Kimiがソースオブトゥルースドキュメントとターゲットドキュメントのクレームを独立して照合し、計画と設計のずれを検出するメカニズム。チームリーダーが発見を検証・対処する。

### /build（実装）

Opusがリード、Sonnetがビルダーとして機能する。Claude Codeのエージェントチーム機能により各ビルダーに独自のターミナルが割り当てられる。リードはコードを書かず、調整とブロック解除のみを担当し、チームのシャットダウン後に/pmatchチェックを実施する。

### ポストビルドパイプライン

- **/denoise**: デッドコードと不要なノイズを除去
- **/qf・/qb**: プロジェクト固有のスタイルガイドに対する監査
- **/qd**: ドキュメントの鮮度確認
- **/security-review**: OWASPの脆弱性スキャン

これらは順次パイプラインとして実行することも、独立したパスに対して並列スウォームとして実行することもできる。

## 投稿者が強調する主要原則

**コンテキストはノイズである**

「大きなトークンウィンドウは罠。エージェントには、そのフェーズに必要な狭くキュレートされたシグナルのみを与えること。コンテキストが少ない＝IQが高い」と投稿者は述べている。

**認知的階層化**

- Opus: 戦略・設計担当
- Sonnet: 実装担当
- Haiku: 外部モデルへのプロンプトを中継するプロキシエージェント担当

**監査役を監査する**

コードを構築したエージェントはそれを検証できない。実行と検証に分離したコンテキストが必要。

**前提を負荷テストする**

1つのアイデアは、弾痕に耐えられる数だけ価値がある。同じ設計を異なるモデルで批判させ、単一視点では見逃すブラインドスポットを露出させる。

**グラウンディング、推測ではない**

ライブラリやパターンを推奨する前に、ライブドキュメント、プロジェクトドキュメント、既知の問題点に対して検証する。文書化された現実がトレーニングデータに優先する。

**決定論的実行**

ビルダーが推測する必要があれば、プランナーが失敗している。テストケースはビルド後ではなく計画時に定義される。

## 今後の公開予定

投稿者はこのシステムをまもなく公開リリースすることを予告しており、コミュニティからの質問に回答している。

## 参考リンク

- Reddit投稿: [r/ClaudeCode - This is what 3k hours in CC looks like](https://reddit.com/r/ClaudeCode/comments/1r8h10y/)
- Claude Code公式サイト: [claude.ai/code](https://claude.ai/code)

---

*本記事の情報は2026年2月18日時点のものです。最新情報は各公式サイトをご確認ください。*
