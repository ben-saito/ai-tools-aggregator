---
title: "Claude Codeの「ペアプロ」から「完全自動化」へ - Orchestrator型Skillで開発速度が劇的向上"
description: "株式会社ヘンリーのエンジニアが実践する、Claude Code Skills機能の高度な活用法。SubAgentとレビューAgentを組み合わせたOrchestrator型Skillで、情報収集→設計→実装→PR作成を完全自動化。ドメイン知識学習の時間確保に成功した実例を分析。"
publishedAt: "2026-02-18"
updatedAt: "2026-02-18"
category: case-study
tags:
  - claude-code
  - automation
  - skills
  - orchestrator
  - case-study
featured: true
author: AI Tools Aggregator
lang: ja
---

AIコーディングアシスタントの使い方は、多くのエンジニアが「ペアプログラミング」スタイルに留まっている。人間がAIのそばで生成されたコードを確認しながら、次の指示を出し続けるスタイルだ。

しかし、株式会社ヘンリーのソフトウェアエンジニアwarabi氏は、Claude CodeのSkills機能を活用して**完全自動化**への移行に成功した。その実践例から、AIコーディングツールの次世代的な使い方が見えてくる。

## なぜ「ペアプロ」から脱却する必要があったのか

warabi氏が所属するヘンリーは、医療業界向けプロダクトを開発している。医療業界特有の難解なドメイン知識の理解に時間をかけたいが、実装業務も進めなければならない。時間配分が課題だった。

**従来のClaude Code利用法（ペアプロ型）の問題点**:
- AIによるコード変更をリアルタイムに確認する必要がある
- 会話のラリーを続けるために、生成されたコードをそのつど読む必要がある
- **人間がAIのそばを離れられない**

この課題を解決するため、実装にかける時間を減らし、ドメイン知識の学習に充てる時間を増やすアプローチを模索した。

## 開発フローの分解と自動化可能領域の特定

warabi氏はまず、普段の業務フローを**3フェーズ・7ステップ**に分解した。

その結果、従来ペアプロで行っていた「計画」「実装」の2ステップに加え、「情報収集」「PR作成」を含む**計4ステップが完全自動化可能**と判断した。

**自動化対象ステップ**:
1. 情報収集（関連コード、ドキュメント）
2. 設計（アーキテクチャ、実装方針）
3. 実装（コード生成）
4. PR作成（プルリクエスト作成）

## Skills機能の戦略的活用 - なぜCLAUDE.mdでは不十分なのか

Claude CodeにはCLAUDE.md（プロジェクト設定ファイル）があるが、ここにワークフロー全体を書き込むと**コンテキストウィンドウを圧迫**する。

CLAUDE.mdは会話開始時に常に読み込まれるため、長い手順を書くほど指示が正しく実行されない確率が上がる。

**Skills機能の利点**:
- ワークフローを手順書のように定義
- **必要なときだけ読み込ませる**（コンテキスト節約）
- 各ステップで「何を参照し、どういう判断をし、どんな出力を期待するか」を明示

**CLAUDE.mdとSkillsの役割分担**:
- **CLAUDE.md**: プロジェクトの前提知識（常時読み込み）
- **Skills**: 作業の進め方（必要時のみ読み込み）

この使い分けが、ペアプロ型から自動化型への移行の鍵となる。

## Orchestrator型Skillの設計 - SubAgentで各ステップを独立実行

1つのSkillに全ステップを詰め込むと、またコンテキストが肥大化する。そこでwarabi氏が採用したのが**Orchestrator（オーケストレーター）型Skill**だ。

**アーキテクチャ**:
- **親Skill（Orchestrator）**: 各ステップの呼び出し順を管理
- **子Skill（SubAgent）**: 各ステップを独立したコンテキストで実行

**SubAgent機能の重要性**:
親Agentから独立したコンテキストで子Agentを実行する仕組み。各ステップがSubAgentとして実行されるため、**ステップごとにコンテキストがリセット**される。

**メリット**:
1. 各Skillは担当ステップの手順だけを小さなコンテキストで実行可能
2. ステップ単位での修正・差し替えが容易
3. コンテキスト圧迫を回避

**コンテキスト管理の工夫**:
情報取得AgentやDesign Agentは、結果を**ファイルとして保存**し、Orchestratorには「処理完了」とだけ伝える。Orchestratorが調査結果を丸ごと読み込む必要がなくなり、コンテキスト圧迫を防ぐ。

## レビューAgentによるフィードバックループ - 品質担保の仕組み

warabi氏はさらに、**レビューAgent**を追加して品質を高める仕組みを導入した。

**仕組み**:
1. 実作業Agentが成果物を生成
2. ReviewAgentが成果物をレビュー
3. 問題があればOrchestratorに報告
4. Orchestratorが実作業Agentに修正を依頼
5. 上限回数内でループ

これは、人間の開発における「実装→コードレビュー→修正」のプロセスをAgent間で再現したものだ。

**効果**:
「修正不要でマージできるPRも結構作れている」とwarabi氏は報告している。

## 最終的なワークフロー

**dev Skill（Orchestrator）の実行フロー**:

1. ユーザーがタスクIDを指定
2. Orchestratorがタスク内容を確認
3. **人間に最終確認**（ここだけ人間介入）
4. 以降は完全自動:
   - 情報収集Agent → ReviewAgent
   - 設計Agent → ReviewAgent
   - 実装Agent → ReviewAgent
   - PR作成Agent → ReviewAgent
5. 各ステップでレビューを通過するまでループ

**人間の役割**:
- タスク内容の最終確認（開始時）
- PRレビュー（完了後）

実装中は**VS Codeをバックグラウンドにして、他タスクの情報収集に時間を充てられる**ようになった。

## ペアプロ型 vs 完全自動化型 - 比較結果

warabi氏自身による比較:

| 項目 | Before（ペアプロ） | After（全自動） | 評価 |
|------|-------------------|----------------|------|
| **作業時間の確保** | ☓ | ◎ | 最終確認後はバックグラウンド化可能。修正不要でマージできるPRも多い |
| **開発速度** | ◯ | ◎ | 実担当Agent + レビューAgentで品質低下なし |
| **実装の理解** | ◎ | ◯ | ペアプロの方が細かい質問が可能。ただしPRレビュー時に理解を補える |

**総合評価**:
- ドメイン知識学習の時間確保に成功
- 開発速度も向上
- 実装理解はわずかに低下するが、PRレビューで補える

## AIコーディングツール活用の進化ステージ

今回の事例から、AIコーディングツール活用には**3つのステージ**があることが分かる。

### ステージ1: 補完型
- コード補完、部分的な生成
- 人間が主導権を完全に保持

### ステージ2: ペアプロ型
- AIとの対話的な開発
- リアルタイムのフィードバック
- 人間がAIのそばにいる必要がある

### ステージ3: 自動化型
- タスク指定後は完全自動
- Orchestrator + SubAgent + ReviewAgentの組み合わせ
- 人間は開始時と完了時のみ介入

**現在の主流**: ステージ2（ペアプロ型）
**今回の事例**: ステージ3（自動化型）の実現

## 汎用性の高いアプローチ - 実装以外にも応用可能

warabi氏は「Skillの活用は実装系業務に限らず、普段の様々な業務にも応用できる」と述べている。

**応用可能な領域**:
- ドキュメント生成（調査→構成→執筆→レビュー）
- データ分析（データ取得→分析→可視化→レポート作成）
- テスト自動化（テストケース設計→実装→実行→レポート）

**キーとなる考え方**:
1. ワークフローを明確なステップに分解
2. 各ステップを独立したSkillとして定義
3. Orchestratorで統合
4. ReviewAgentで品質担保

## Claude Sonnet 4.6との相乗効果

2026年2月17日にリリースされたClaude Sonnet 4.6は、以下の改善を実現している:

- 「過剰設計が減少」
- 「指示の遵守が改善」
- 「複数ステップタスクでの一貫性向上」

これらの改善は、まさにOrchestrator型Skillの各ステップ実行において威力を発揮する。モデルの性能向上とSkillsの戦略的活用の組み合わせが、真の自動化を可能にしている。

## まとめ - AIコーディングツールの次世代的活用法

warabi氏の事例が示すのは、**AIコーディングツールは「使い方次第」で価値が10倍にも100倍にもなる**ということだ。

**成功の要因**:
1. 業務フローの明確な分解
2. Skills機能の戦略的活用
3. SubAgentによるコンテキスト管理
4. ReviewAgentによる品質担保
5. Orchestratorによる統合

**示唆される未来**:
Spotifyの最上級エンジニアが「12月以降コードを書いていない」と述べたように、エンジニアの役割は「コードを書くこと」から「AIを設計すること」へとシフトしつつある。

warabi氏の実践は、その未来を先取りしたものと言える。

---

**参考リンク**:
- 元記事: [Claude Codeで開発を全自動化する - Orchestrator型Skillの設計と実践](https://dev.henry.jp/entry/claude-code-orchestrator)
- Claude Code公式: https://code.claude.com/
- Skills Documentation: https://code.claude.com/docs/en/skills

**関連記事**:
- Claude Sonnet 4.6リリース - Opus級の性能をSonnet価格で実現
- OpenClaw実用ユースケース29選 - コミュニティが選んだ実例集
- Spotify AI疲労問題 - 最高の開発者がコードを書かなくなった現実
