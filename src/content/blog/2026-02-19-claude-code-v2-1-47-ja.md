---
title: "Claude Code v2.1.47 リリース - Windows対応強化・メモリ改善・40件超のバグ修正"
description: "Anthropicは2026年2月19日、Claude Code v2.1.47をリリースした。Windows環境の描画バグ修正、長時間セッションのメモリ改善、起動速度の向上（約500ms短縮）、コンテキスト圧縮後のプランモード保持など40件以上の修正が含まれる。"
publishedAt: "2026-02-19T07:30:00+09:00"
author: "AI Tools Hub"
category: "news"
lang: "ja"
tags: ["Claude Code", "Anthropic", "リリースノート", "バグ修正", "Windows"]
featured: false
---

Anthropicは2026年2月19日（UTC）、Claude Code v2.1.47をnpmレジストリに公開した。本バージョンは40件以上のバグ修正と複数のパフォーマンス改善を含む大規模なメンテナンスリリースである。

## 主な変更点

### Windows環境の修正

Windows環境での動作品質が大幅に向上した。

- ターミナル表示のバグを修正: `os.EOL`（`\r\n`）に起因するレンダリング問題を解消し、行数カウントが常に1と表示される問題を修正
- Markdownのボールドおよびカラーテキストで文字がずれる問題（`\r\n`の行末文字が原因）を修正
- MSYS2やCygwinシェルでbashツール出力がサイレントに破棄される問題を修正
- CWDトラッキング用一時ファイルが際限なく蓄積する問題を修正（anthropics/claude-code#17600）
- WSL2環境でWindowsがBMP形式でコピーした画像のペーストが機能しない問題を修正（anthropics/claude-code#25935）
- ドライブレター大文字小文字の違いによるワークツリーセッションマッチング失敗を修正

### メモリ使用量の改善

長時間稼働セッションでのメモリ効率が向上した。

- APIストリームバッファ、エージェントコンテキスト、スキル状態を使用後に解放
- エージェントタスクのメッセージ履歴をタスク完了後にトリム
- エージェント長時間セッションでの進捗更新にO(n²)のメッセージ蓄積が発生していた問題を修正

### 起動パフォーマンスの改善

SessionStartフックの実行を遅延させることで、インタラクティブ起動までの時間を約500ms短縮した。

### VS Code プランプレビューの改善

- Claudeが反復するたびに自動更新されるようになった
- プランが確認準備完了になった時点でのみコメントが有効化される
- 拒否した際もプレビューを開いたままにし、Claudeが修正できるようにした

### バックグラウンドエージェントの操作変更

バックグラウンドエージェントの停止操作が変更された。ESCのダブルタップではなく、`ctrl+f`でバックグラウンドエージェントをすべて終了できるようになった。ESCを押すとメインスレッドのみキャンセルし、バックグラウンドエージェントは継続して実行される。

### セッション管理の改善

- `/resume`コマンドでセッションの最初のメッセージが16KBを超える場合にセッションが見つからない問題を修正（anthropics/claude-code#25920、#25721）
- コンテキスト圧縮後にセッション名が失われる問題を修正（anthropics/claude-code#26121）
- `/rename`で設定したカスタムセッションタイトルが会話再開後に失われる問題を修正（anthropics/claude-code#23610）
- セッション再開ピッカーの初期表示数を10件から50件に増加（anthropics/claude-code#26123）

### コンテキスト圧縮の修正

- 多数のPDFドキュメントを含む会話で圧縮が失敗する問題を修正（anthropics/claude-code#26188）
- コンテキスト圧縮後にプランモードが失われ、プランニングから実装モードに切り替わる問題を修正（anthropics/claude-code#26061）

### エージェント・スキル関連の修正

- NFSやFUSEファイルシステム（ゼロinode報告）でユーザー定義エージェントが1ファイルしか読み込まれない問題を修正（anthropics/claude-code#26044）
- プラグインエージェントスキルが完全修飾名でなくベア名で参照された場合に読み込みが失敗する問題を修正（anthropics/claude-code#25834）
- gitワークツリーから実行時にプロジェクトレベルの`.claude/agents/`と`.claude/skills/`が発見されない問題を修正
- カスタムエージェントの`model`フィールドがチームメイト起動時に無視される問題を修正（anthropics/claude-code#26064）
- 並行エージェントを使用するセッションでAPIの400エラー（「thinking blocks cannot be modified」）が発生する問題を修正

### その他の修正・改善

- `@`ファイルメンション: 起動時にインデックスを事前ウォームアップし、セッションベースのキャッシュとバックグラウンドリフレッシュにより、ファイル候補の表示が高速化
- bashパーミッション分類器が実際のルールに対応しない説明を返す問題（ハルシネーション）を修正
- ストップおよびサブエージェントストップフックの入力に`last_assistant_message`フィールドを追加。トランスクリプトファイルを解析せずに最終アシスタント応答テキストにアクセス可能になった
- `chat:newline`キーバインドアクションを追加し、複数行入力を設定可能に（anthropics/claude-code#26075）
- ステータスラインのJSON`workspace`セクションに`added_dirs`を追加（anthropics/claude-code#26096）
- CJKワイド文字によるTUIのタイムスタンプとレイアウト要素のずれを修正（anthropics/claude-code#26084）
- `alwaysThinkingEnabled: true`がBedrockおよびVertexプロバイダで有効にならない問題を修正（anthropics/claude-code#26074）
- MCPサーバーが遅延ロード後にMCP管理ダイアログに表示されない問題を修正
- `claude doctor`がmiseおよびasdf管理のインストールをネイティブインストールと誤判定する問題を修正（anthropics/claude-code#26033）
- `/clear`コマンド後もステータスバーにセッション名が残る問題を修正（anthropics/claude-code#26082）
- `/fork`でウェブ検索を使用したセッションがクラッシュする問題を修正（anthropics/claude-code#25811）
- macOS上でのread-only gitコマンドが`--no-optional-locks`フラグを追加することでFSEventsファイルウォッチャーのループを引き起こす問題を修正（anthropics/claude-code#25750）

## バージョンの入手方法

```bash
npm install -g @anthropic-ai/claude-code@2.1.47
```

または既にインストール済みの場合:

```bash
claude update
```

---

*v2.1.47はnpmレジストリにて2026年2月18日20:15 UTC（日本時間2月19日5:15）に公開された。GitHubの公式リリースページはまだ作成されていない。*
