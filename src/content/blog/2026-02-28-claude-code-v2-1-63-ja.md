---
title: "Claude Code v2.1.63リリース - HTTP Hooks追加と大規模メモリリーク修正"
description: "Claude Code v2.1.63がリリースされた。HTTP Hooksによる外部連携機能の追加、/simplifyおよび/batchスラッシュコマンドの追加に加え、長時間セッションで発生する多数のメモリリーク修正が含まれている。"
publishedAt: "2026-02-28T13:30:00+09:00"
author: "Flow"
category: "release"
tags: ["Claude Code", "Anthropic", "release-notes", "HTTP Hooks", "memory-leak"]
lang: "ja"
---

Anthropicは2月28日（現地時間27日）、Claude Code v2.1.63をリリースした。HTTP Hooksによる外部サービス連携機能の追加、新規スラッシュコマンドの追加に加え、長時間セッションにおけるメモリリークの大規模修正が含まれる注目度の高いアップデートとなっている。

## 新機能: HTTP Hooks

本バージョンの目玉機能として、HTTP Hooksが追加された。従来のシェルコマンドベースのフックに加え、指定したURLにJSONをPOSTし、レスポンスのJSONを受け取る形式での連携が可能になった。これにより、外部のWebサービスやAPIとの統合がより容易になる。

## /simplifyと/batchスラッシュコマンドの追加

新たにバンドルされたスラッシュコマンドとして`/simplify`と`/batch`が追加された。`/simplify`はコードの簡素化を指示するコマンド、`/batch`は複数の操作をまとめて実行するためのコマンドとなっている。

## Git Worktree間でのプロジェクト設定共有

プロジェクトの設定ファイルおよびauto-memoryが、同一リポジトリのGit Worktree間で共有されるようになった。複数のWorktreeを活用して並行開発を行っているユーザーにとって、設定の二重管理が不要になる改善となる。

## MCP OAuth認証のフォールバック対応

MCP OAuth認証において、自動的なlocalhostリダイレクトが動作しない場合に、コールバックURLを手動で貼り付けて認証を完了できるフォールバック機能が追加された。ファイアウォールやネットワーク設定により自動リダイレクトが利用できない環境での利便性が向上している。

## claude.ai MCPサーバーの無効化オプション

環境変数`ENABLE_CLAUDEAI_MCP_SERVERS=false`を設定することで、claude.aiのMCPサーバーを利用しないようオプトアウトできるようになった。セキュリティポリシーや帯域の都合でMCPサーバーへの接続を制限したい場合に有用となる。

## 大規模メモリリーク修正

本バージョンでは、長時間実行セッションで発生する多数のメモリリークが修正された。修正対象は以下の通り。

- ブリッジポーリングループにおけるリスナーリーク
- MCP OAuthフロークリーンアップ時のリスナーリーク
- Hooks設定メニュー操作時のメモリリーク
- インタラクティブ権限ハンドラーにおけるリスナーリーク
- bashコマンドプレフィックスキャッシュのメモリリーク
- MCPツール/リソースキャッシュのサーバー再接続時のリーク
- WebSocketトランスポート再接続時のリスナーリーク
- gitルート検出キャッシュの無制限増大
- JSON解析キャッシュの無制限増大
- 長時間実行Teammatesにおける会話コンパクション後のメッセージ保持
- MCPサーバー切断時のフェッチキャッシュ未クリア
- サブエージェント利用時の進捗メッセージペイロード

これらの修正により、長時間のコーディングセッションにおけるメモリ使用量が大幅に改善される。特に、MCPサーバーの頻繁な再接続やサブエージェントの多用時に顕著な効果が期待できる。

## その他の改善

- `/model`コマンドがスラッシュコマンドメニューで現在のアクティブモデルを表示するようになった
- ローカルスラッシュコマンド（`/cost`など）の出力がシステムメッセージとして正しく表示されるようになった
- `/copy`コマンドに「常に完全レスポンスをコピー」オプションが追加された
- `/clear`実行時にキャッシュされたスキルが正しくリセットされるようになった
- VS Code: リモートセッションが会話履歴に表示されない問題が修正された
- VS Code: セッション一覧でのリネームおよび削除操作が追加された
- REPLブリッジにおけるメッセージ順序のレースコンディションが修正された

## アップデート方法

```bash
npm install -g @anthropic-ai/claude-code
```

v2.1.59で導入されたauto-memory機能に続き、v2.1.63ではメモリ管理の安定性が大幅に強化された。長時間セッションを利用するユーザーには早期のアップデートが推奨される。
