---
title: "Claude Code v2.1.59リリース - 自動メモリ機能とコピーコマンドを追加"
description: "Claude Code v2.1.59がリリースされた。コンテキストを自動保存するauto-memory機能、コードブロックを選択してコピーできる/copyコマンドが追加されている。"
publishedAt: "2026-02-26T10:30:00+09:00"
author: "Flow"
category: "release"
tags: ["Claude Code", "Anthropic", "release-notes", "auto-memory", "MCP"]
lang: "ja"
---

Anthropicは2月26日（現地時間）、Claude Code v2.1.59をリリースした。自動メモリ機能や`/copy`コマンドの追加、マルチエージェントセッションでのメモリ使用量改善など、複数の機能追加とバグ修正が含まれている。

## 自動メモリ機能の導入

本バージョンの目玉は、Claudeが有用なコンテキストをauto-memoryに自動保存する機能だ。これまで`/memory`コマンドで手動管理していたメモリ情報が、セッション中に自動的に蓄積されるようになった。管理は引き続き`/memory`コマンドから行える。

プロジェクト固有の設定やパターン、ユーザーの好みなどを自動的に記憶することで、セッションを跨いだコンテキスト維持が改善される。

## /copyコマンドの追加

新たに`/copy`コマンドが追加された。レスポンス中にコードブロックが含まれている場合、インタラクティブなピッカーが表示され、個別のコードブロックまたはレスポンス全体を選択してコピーできる。

従来はターミナル上で手動選択する必要があったが、コードブロック単位で正確にコピーできるようになった。

## Bash許可プレフィックスの改善

「always allow」のプレフィックス提案が改善された。`cd /tmp && git fetch && git push`のような複合コマンドに対して、コマンド全体を1つのプレフィックスとして扱うのではなく、サブコマンドごとに適切なプレフィックスを計算するようになった。これにより、許可設定がより細かく、安全に管理できる。

## マルチエージェントセッションのメモリ改善

マルチエージェントセッションにおいて、完了したサブエージェントのタスク状態を解放するようになった。長時間のマルチエージェントセッションでメモリ使用量が肥大化する問題が軽減される。

## バグ修正

- MCP OAuthトークンのリフレッシュ処理で、複数のClaude Codeインスタンスを同時実行した際に発生するレースコンディションを修正
- 作業ディレクトリが削除された場合に、シェルコマンドが明確なエラーメッセージを表示しない問題を修正

## その他の改善

- 短いタスクリストの並び順が改善された

## アップデート方法

```bash
npm install -g @anthropic-ai/claude-code@latest
```

現在のバージョンは以下のコマンドで確認できる。

```bash
claude --version
```
