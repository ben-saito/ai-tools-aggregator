---
title: "Claude Code v2.1.49 Released: Background Agent Kill Fix, Startup Speedups, and Yoga WASM Memory Leaks Squashed"
description: "Anthropic ships Claude Code v2.1.49 with roughly 20 changes, including a fix for Ctrl+C and ESC being silently ignored during background agent execution, multiple startup performance improvements via MCP batching and auth-failure caching, an end to Yoga WASM memory growth in long sessions, file editing in simple mode, and new SDK capability fields."
publishedAt: "2026-02-20T08:30:00+09:00"
author: "AI Tools Hub"
category: "news"
lang: "en"
tags: ["Claude Code", "Anthropic", "release notes", "bug fixes", "performance"]
featured: false
---

Anthropic published Claude Code v2.1.49 to npm on February 20, 2026 (UTC), roughly one day after v2.1.47. The release contains approximately 20 changes focused on background agent control, startup performance, persistent memory leaks in long-running sessions, and SDK improvements. v2.1.48 does not appear to have reached the `latest` tag — v2.1.49 is the direct successor.

## Background Agent Control Is Now Reliable

One of the more frustrating regressions in recent builds has been fixed: pressing Ctrl+C or ESC while background agents are running and the main thread is idle was silently ignored. Starting with v2.1.49, pressing either key twice within three seconds will terminate all background agents. For users running parallelized agentic workflows, this restores a basic and critical escape hatch.

## Startup Performance: Three Layers of Improvement

Anthropic tackled startup latency from multiple angles in this release.

First, MCP tool token counting is now batched into a single API call instead of one call per tool. On setups with many MCP servers installed, this alone reduces startup HTTP traffic substantially.

Second, authentication failures for HTTP and SSE MCP servers are now cached, eliminating repeated connection attempts to servers that require authentication the user hasn't configured. Previously, every startup would hammer unavailable endpoints.

Third, the non-interactive mode (`-p` flag) now skips unnecessary API calls during initialization, making scripted and CI/CD usage faster and cheaper.

## Yoga WASM Memory Growth Fixed — Twice

Two separate bugs caused Yoga (the layout engine used for Claude Code's terminal UI) to grow its WASM linear memory without bound during long sessions. Both are fixed in v2.1.49. Separately, the tree-sitter parser — used for syntax-aware code handling — is now periodically reset to prevent its own WASM memory from accumulating. Stale yoga layout references that could trigger rendering glitches have also been cleaned up.

The practical result: sessions running for hours should no longer see continuously growing RAM usage from these components.

## Simple Mode Gains File Editing

The `CLAUDE_CODE_SIMPLE` environment variable enables a stripped-down interaction mode. Previously this mode only exposed the Bash tool. v2.1.49 adds the file edit tool to simple mode, allowing direct file creation and modification without going through shell commands. This makes simple mode usable for a broader class of coding tasks.

## Plugin Scope Auto-Detection

`plugin enable` and `plugin disable` now automatically detect the correct scope (user or project) when `--scope` is not passed explicitly. Previously, the commands always fell back to user scope, which could silently operate on the wrong configuration layer when working inside a project with project-scoped plugins.

## SDK Improvements

**Model capability discovery.** The SDK model info object now exposes `supportsEffort`, `supportedEffortLevels`, and `supportsAdaptiveThinking` fields. SDK consumers no longer need to hardcode per-model capability checks; they can query these fields at runtime.

**ConfigChange hook.** A new `ConfigChange` hook event fires whenever configuration files change during an active session. Enterprise deployments can use this to implement security auditing or to block unauthorized settings changes through policy.

**Permission suggestions on safety blocks.** When a safety check triggers an ask response, permission options are now populated and surfaced to SDK consumers, enabling richer UX in tools built on top of the SDK.

## Other Notable Fixes

- **Prompt suggestion cache regression fixed.** Cache hit rates had dropped in a recent build; this release restores expected behavior.
- **Verbose mode toggle bug fixed.** Using `/config` to toggle verbose mode was not updating the thinking block display. The memo comparators now correctly detect verbose setting changes.
- **`--resume` picker cleaned up.** Sessions that began with commands like `/clear` were showing raw XML tags in the session picker. The display now falls through to the session ID fallback correctly.
- **`disableAllHooks` hierarchy fix.** The `disableAllHooks` setting was allowing non-managed configurations to disable hooks set by enterprise policy. The fix enforces that managed hooks cannot be disabled by user-level settings (#26637).
- **Permission prompts now show context.** Prompts triggered by path safety and working directory blocks now display the reason for the restriction rather than presenting a bare prompt with no explanation.

## Sonnet 4.6 Gets 1M Context on Max Plan

Anthropic is removing Sonnet 4.5 with 1M context from the Max plan. Sonnet 4.6 — the current frontier Sonnet model — now supports 1M context and replaces it. Users on the Max plan who have Sonnet 4.5 selected in `/model` will need to switch manually.

## Version Details

- **Version**: 2.1.49
- **Published**: February 20, 2026 (UTC)
- **npm**: [@anthropic-ai/claude-code](https://www.npmjs.com/package/@anthropic-ai/claude-code)
- **Install / upgrade**: `npm install -g @anthropic-ai/claude-code@2.1.49`
